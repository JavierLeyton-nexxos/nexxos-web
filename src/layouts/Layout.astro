---
import '../styles/global.css'
import GoogleAnalytics from '../components/GoogleAnalytics.astro'

interface Props {
	title?: string
	description?: string
	image?: string
}

const {
	title = 'nexxos AI Hub | Sovereign Hyperscale Infrastructure LATAM',
	description = 'The first AI Factory in LATAM designed for NVIDIA Blackwell. 150 MW of renewable power, Liquid Cooling, and Sovereign Compute in Uruguay Free Zone.',
	image = '/og-image.jpg',
} = Astro.props

const lang = Astro.currentLocale || 'es'
---

<!doctype html>
<html lang={lang} class='scroll-smooth'>
	<head>
		<link rel='preconnect' href='https://images.unsplash.com' />
		<link rel='preconnect' href='https://www.googletagmanager.com' />
		<link rel='preconnect' href='https://www.google-analytics.com' />
		<meta charset='UTF-8' />
		<meta name='viewport' content='width=device-width' />
		<link rel='icon' type='image/png' href='/favicon.png' />
		<link rel='canonical' href={Astro.url} />
		<link rel='sitemap' href='/sitemap-index.xml' />
		<meta name='generator' content={Astro.generator} />
		<meta name='robots' content='index, follow' />
		<meta name='description' content={description} />

		<GoogleAnalytics measurementId='G-VDSSE50D0D' />

		<!-- Open Graph / Facebook -->
		<meta property='og:type' content='website' />
		<meta property='og:url' content={Astro.url} />
		<meta property='og:title' content={title} />
		<meta property='og:description' content={description} />
		<meta property='og:image' content={image} />

		<!-- Twitter -->
		<meta property='twitter:card' content='summary_large_image' />
		<meta property='twitter:url' content={Astro.url} />
		<meta property='twitter:title' content={title} />
		<meta property='twitter:description' content={description} />
		<meta property='twitter:image' content={image} />

		<title>{title}</title>
	</head>
	<body
		class='bg-brand-bone text-brand-black min-h-screen selection:bg-brand-neon selection:text-brand-black'
	>
		<slot />

		<script>
			// Intersection Observer for scroll animations
			const observerOptions = {
				root: null,
				rootMargin: '0px',
				threshold: 0.1,
			}

			const observer = new IntersectionObserver((entries) => {
				entries.forEach((entry) => {
					if (entry.isIntersecting) {
						entry.target.classList.add('active')
						observer.unobserve(entry.target) // Only animate once
					}
				})
			}, observerOptions)

			document.querySelectorAll('.reveal').forEach((el) => {
				observer.observe(el)
			})
		</script>
	</body>
</html>
